<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Bot Detection - Educational Research</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        cyber: {
                            dark: '#0f172a',
                            light: '#f8fafc',
                            accent: '#3b82f6',
                            danger: '#ef4444',
                            success: '#10b981'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }
        
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container { height: 350px; }
        }
    </style>
    <!-- 
    CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. 
    All visuals are rendered via Canvas (Chart.js) or standard Unicode/HTML.
    -->
    
    <!-- Chosen Palette: "Cyber Defense" - Slate/Blue/Emerald
         Backgrounds: Slate-900 (Dark), Slate-50 (Light)
         Accents: Blue-500 (Info), Emerald-500 (Safe), Red-500 (Threat)
    -->
    
    <!-- Application Structure Plan:
         1. Header: Global controls (Lang/Theme) + Navigation.
         2. Hero: Scenario Context (ShopGuard).
         3. Dashboard Layout:
            - Section 1: Technology Stack (Comparison).
            - Section 2: Fingerprinting Lab (Visual explanation).
            - Section 3: Interactive Simulation (The "WAF" Game).
         4. Content is loaded dynamically based on language selection.
         5. Focus on interactive learning: Sliders to adjust WAF sensitivity, Charts to compare tools.
    -->
</head>
<body class="bg-slate-50 dark:bg-slate-900 text-slate-800 dark:text-slate-200 transition-colors duration-300 font-sans">

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-white/90 dark:bg-slate-800/90 backdrop-blur border-b border-slate-200 dark:border-slate-700">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center gap-2">
                    <span class="text-2xl">ğŸ›¡ï¸</span>
                    <span class="font-bold text-xl tracking-tight">BotSec<span class="text-blue-500">Edu</span></span>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4" id="nav-links">
                        <!-- Nav items injected via JS -->
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <button id="lang-toggle" class="px-3 py-1 rounded bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 transition text-sm font-semibold">TR</button>
                    <button id="theme-toggle" class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition">
                        ğŸŒ™
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-12">

        <!-- Hero Section: Scenario -->
        <section id="hero" class="bg-white dark:bg-slate-800 rounded-2xl p-8 shadow-lg border-l-4 border-blue-500">
            <h1 id="hero-title" class="text-3xl md:text-4xl font-bold mb-4"></h1>
            <p id="hero-desc" class="text-lg text-slate-600 dark:text-slate-300 mb-6 leading-relaxed"></p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
                <div class="p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg">
                    <div class="text-2xl mb-2">ğŸ¤–</div>
                    <h3 id="card1-title" class="font-bold mb-2"></h3>
                    <p id="card1-desc" class="text-sm opacity-80"></p>
                </div>
                <div class="p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg">
                    <div class="text-2xl mb-2">ğŸ•µï¸</div>
                    <h3 id="card2-title" class="font-bold mb-2"></h3>
                    <p id="card2-desc" class="text-sm opacity-80"></p>
                </div>
                <div class="p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg">
                    <div class="text-2xl mb-2">âš–ï¸</div>
                    <h3 id="card3-title" class="font-bold mb-2"></h3>
                    <p id="card3-desc" class="text-sm opacity-80"></p>
                </div>
            </div>
        </section>

        <!-- Section: Technologies (Visual Comparison) -->
        <section id="tech" class="scroll-mt-20">
            <div class="mb-6">
                <h2 id="tech-title" class="text-2xl font-bold mb-2"></h2>
                <p id="tech-intro" class="text-slate-600 dark:text-slate-400"></p>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                <!-- Text Content -->
                <div class="space-y-4">
                    <div class="bg-white dark:bg-slate-800 p-6 rounded-xl shadow border border-slate-200 dark:border-slate-700">
                        <h3 class="font-bold text-lg text-blue-500">Selenium</h3>
                        <p id="sel-desc" class="text-sm mt-2"></p>
                    </div>
                    <div class="bg-white dark:bg-slate-800 p-6 rounded-xl shadow border border-slate-200 dark:border-slate-700">
                        <h3 class="font-bold text-lg text-green-500">Puppeteer</h3>
                        <p id="pup-desc" class="text-sm mt-2"></p>
                    </div>
                    <div class="bg-white dark:bg-slate-800 p-6 rounded-xl shadow border border-slate-200 dark:border-slate-700">
                        <h3 class="font-bold text-lg text-orange-500">Playwright</h3>
                        <p id="play-desc" class="text-sm mt-2"></p>
                    </div>
                </div>

                <!-- Radar Chart -->
                <div class="bg-white dark:bg-slate-800 p-4 rounded-xl shadow h-full flex flex-col justify-center">
                    <h3 id="chart1-title" class="text-center font-semibold mb-4 text-sm uppercase tracking-wide opacity-70"></h3>
                    <div class="chart-container">
                        <canvas id="techRadarChart"></canvas>
                    </div>
                    <div class="mt-4 text-xs text-center text-slate-500" id="chart1-caption"></div>
                </div>
            </div>
        </section>

        <!-- Section: Fingerprinting (Interactive) -->
        <section id="fingerprint" class="scroll-mt-20">
            <div class="mb-6">
                <h2 id="fp-title" class="text-2xl font-bold mb-2"></h2>
                <p id="fp-intro" class="text-slate-600 dark:text-slate-400"></p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Concept Visualization -->
                <div class="bg-white dark:bg-slate-800 p-6 rounded-xl shadow">
                    <h3 id="fp-canvas-title" class="font-bold mb-4"></h3>
                    <div class="flex items-center justify-center bg-slate-100 dark:bg-slate-900 h-48 rounded-lg mb-4 relative overflow-hidden group cursor-crosshair border border-slate-300 dark:border-slate-700">
                        <!-- Simulated Canvas Noise -->
                        <div id="noise-layer" class="absolute inset-0 opacity-50"></div>
                        <span class="relative z-10 font-mono text-xs bg-black/70 text-white p-2 rounded hidden group-hover:block">
                            Hash: 0x4f9a2b3c<br>GPU: Angle (Intel)
                        </span>
                        <div class="absolute bottom-2 right-2 text-xs text-slate-500">Hover to see hash</div>
                    </div>
                    <p id="fp-canvas-desc" class="text-sm text-slate-600 dark:text-slate-400"></p>
                </div>

                <!-- Data Weight Chart -->
                <div class="bg-white dark:bg-slate-800 p-6 rounded-xl shadow">
                    <h3 id="chart2-title" class="font-bold mb-4 text-center"></h3>
                    <div class="chart-container">
                        <canvas id="fingerprintDoughnut"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section: Defensive Simulation (Game) -->
        <section id="simulation" class="scroll-mt-20 bg-slate-900 text-slate-200 rounded-2xl p-8 shadow-2xl overflow-hidden relative">
            <div class="absolute top-0 right-0 p-4 opacity-10 text-9xl">ğŸ›¡ï¸</div>
            
            <div class="relative z-10">
                <h2 id="sim-title" class="text-3xl font-bold mb-2 text-white"></h2>
                <p id="sim-intro" class="text-slate-400 mb-8 max-w-3xl"></p>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- Controls -->
                    <div class="bg-slate-800/50 p-6 rounded-xl border border-slate-700 backdrop-blur-sm">
                        <h3 id="sim-controls" class="font-bold text-blue-400 mb-4 uppercase tracking-wider text-sm"></h3>
                        
                        <div class="mb-6">
                            <label class="block text-sm font-medium mb-2" id="label-sensitivity"></label>
                            <input type="range" id="sensitivity-slider" min="10" max="90" value="50" class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500">
                            <div class="flex justify-between text-xs text-slate-500 mt-1">
                                <span id="label-loose"></span>
                                <span id="label-strict"></span>
                            </div>
                        </div>

                        <div class="space-y-4">
                            <div class="flex justify-between items-center p-3 bg-slate-800 rounded">
                                <span id="stat-allowed" class="text-sm"></span>
                                <span id="val-allowed" class="font-mono text-green-400 font-bold">0</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-slate-800 rounded">
                                <span id="stat-blocked" class="text-sm"></span>
                                <span id="val-blocked" class="font-mono text-red-400 font-bold">0</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-slate-800 rounded border border-yellow-500/30">
                                <span id="stat-fp" class="text-sm text-yellow-200"></span>
                                <span id="val-fp" class="font-mono text-yellow-400 font-bold">0%</span>
                            </div>
                        </div>
                        
                        <button id="btn-reset" class="w-full mt-6 py-2 bg-blue-600 hover:bg-blue-500 rounded text-white font-semibold transition"></button>
                    </div>

                    <!-- Live Scatter Plot -->
                    <div class="lg:col-span-2 bg-slate-800/50 p-4 rounded-xl border border-slate-700 backdrop-blur-sm flex flex-col">
                        <div class="flex justify-between items-center mb-2">
                            <h3 id="sim-viz-title" class="text-sm font-bold text-slate-400"></h3>
                            <div class="flex gap-4 text-xs">
                                <span class="flex items-center gap-1"><span class="w-2 h-2 rounded-full bg-blue-400"></span> Human</span>
                                <span class="flex items-center gap-1"><span class="w-2 h-2 rounded-full bg-red-400"></span> Bot</span>
                            </div>
                        </div>
                        <div class="chart-container flex-grow">
                            <canvas id="simulationChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 py-8 mt-12">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-slate-500 text-sm">Â© 2023 BotSecEdu Research. Educational Purpose Only.</p>
        </div>
    </footer>

    <!-- Logic -->
    <script>
        // --- Data & Translations ---
        const translations = {
            en: {
                nav: ["Overview", "Automation", "Fingerprinting", "Simulation"],
                hero: {
                    title: "Advanced Bot Detection & Evasion",
                    desc: "An educational deep-dive into the defensive mechanisms protecting modern web applications from automated threats. Explore how detection works, why evasion happens, and the security implications.",
                    cards: [
                        {title: "Automation", desc: "How headless browsers like Playwright and Puppeteer simulate human behavior."},
                        {title: "Detection", desc: "Layered defense strategies from IP reputation to behavioral analysis."},
                        {title: "Fingerprinting", desc: "Identifying devices through Canvas, WebGL, and TLS signals without cookies."}
                    ]
                },
                tech: {
                    title: "Browser Automation Landscape",
                    intro: "Understanding the tools used for both testing and abuse is critical for defense.",
                    sel: "The legacy standard. High detectability due to `navigator.webdriver` flags. Primary use: QA.",
                    pup: "Chrome-centric automation. Lightweight but distinct 'Headless' footprint. Primary use: Scraping.",
                    play: "Modern, multi-browser engine support. Designed for speed and stealth. The current challenge for WAFs.",
                    chartTitle: "Tool Comparison Matrix",
                    chartCaption: "Comparison based on default configuration detectability vs utility.",
                    labels: ["Speed", "Stealth (Default)", "Community Support", "Ease of Use", "Engine Support"]
                },
                fp: {
                    title: "Digital Fingerprinting",
                    intro: "How servers identify users without cookies by analyzing hardware and software characteristics.",
                    canvasTitle: "Canvas Fingerprinting Concept",
                    canvasDesc: "The server commands the browser to render a hidden 3D image. Subtle differences in your GPU and drivers produce a unique pixel hash.",
                    chartTitle: "Fingerprint Signal Weights",
                    labels: ["Canvas/WebGL", "User-Agent/Headers", "IP/Network", "AudioContext", "Behavior"]
                },
                sim: {
                    title: "WAF Simulation Lab",
                    intro: "Act as the Security Analyst. Adjust the detection threshold. If you are too strict, you block real customers (False Positives). If too loose, bots slip through.",
                    controls: "Defense Configuration",
                    sensitivity: "Blocking Sensitivity",
                    loose: "Loose (More Bots)",
                    strict: "Strict (Block Humans)",
                    allowed: "Traffic Allowed",
                    blocked: "Traffic Blocked",
                    fp: "False Positive Rate",
                    reset: "Reset Simulation",
                    vizTitle: "Live Traffic Analysis (Y: Suspicion Score)"
                }
            },
            tr: {
                nav: ["Genel BakÄ±ÅŸ", "Otomasyon", "Parmak Ä°zi", "SimÃ¼lasyon"],
                hero: {
                    title: "GeliÅŸmiÅŸ Bot Tespiti ve Atlatma",
                    desc: "Modern web uygulamalarÄ±nÄ± otomatik tehditlerden koruyan savunma mekanizmalarÄ±na eÄŸitimsel bir bakÄ±ÅŸ. Tespitin nasÄ±l Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± ve gÃ¼venlik etkilerini keÅŸfedin.",
                    cards: [
                        {title: "Otomasyon", desc: "Playwright ve Puppeteer gibi tarayÄ±cÄ±larÄ±n insan davranÄ±ÅŸÄ±nÄ± taklidi."},
                        {title: "Tespit Etme", desc: "IP itibarÄ±ndan davranÄ±ÅŸsal analize kadar katmanlÄ± savunma stratejileri."},
                        {title: "Parmak Ä°zi", desc: "CihazlarÄ±n Ã§erez olmadan Canvas ve TLS sinyalleriyle tanÄ±mlanmasÄ±."}
                    ]
                },
                tech: {
                    title: "TarayÄ±cÄ± Otomasyon DÃ¼nyasÄ±",
                    intro: "Hem test hem de kÃ¶tÃ¼ye kullanÄ±m iÃ§in kullanÄ±lan araÃ§larÄ± anlamak savunma iÃ§in kritiktir.",
                    sel: "Eski standart. `navigator.webdriver` bayraklarÄ± nedeniyle kolay tespit edilir. AsÄ±l kullanÄ±m: QA.",
                    pup: "Chrome odaklÄ± otomasyon. Hafif ama belirgin 'Headless' izi. AsÄ±l kullanÄ±m: Veri kazÄ±ma.",
                    play: "Modern, Ã§oklu motor desteÄŸi. HÄ±z ve gizlilik iÃ§in tasarlandÄ±. WAF'lar iÃ§in gÃ¼ncel zorluk.",
                    chartTitle: "AraÃ§ KarÅŸÄ±laÅŸtÄ±rma Matrisi",
                    chartCaption: "VarsayÄ±lan yapÄ±landÄ±rma tespit edilebilirliÄŸine karÅŸÄ± fayda karÅŸÄ±laÅŸtÄ±rmasÄ±.",
                    labels: ["HÄ±z", "Gizlilik (VarsayÄ±lan)", "Topluluk DesteÄŸi", "KullanÄ±m KolaylÄ±ÄŸÄ±", "Motor DesteÄŸi"]
                },
                fp: {
                    title: "Dijital Parmak Ä°zi",
                    intro: "SunucularÄ±n, Ã§erezler olmadan donanÄ±m ve yazÄ±lÄ±m Ã¶zelliklerini analiz ederek kullanÄ±cÄ±larÄ± tanÄ±mlamasÄ±.",
                    canvasTitle: "Canvas Parmak Ä°zi Konsepti",
                    canvasDesc: "Sunucu, tarayÄ±cÄ±ya gizli bir 3D gÃ¶rÃ¼ntÃ¼ oluÅŸturmasÄ±nÄ± emreder. GPU ve sÃ¼rÃ¼cÃ¼lerdeki kÃ¼Ã§Ã¼k farklar benzersiz bir piksel Ã¶zeti oluÅŸturur.",
                    chartTitle: "Sinyal AÄŸÄ±rlÄ±klarÄ±",
                    labels: ["Canvas/WebGL", "User-Agent/BaÅŸlÄ±klar", "IP/AÄŸ", "AudioContext", "DavranÄ±ÅŸ"]
                },
                sim: {
                    title: "WAF SimÃ¼lasyon LaboratuvarÄ±",
                    intro: "GÃ¼venlik Analisti olarak hareket edin. Tespit eÅŸiÄŸini ayarlayÄ±n. Ã‡ok katÄ± olursanÄ±z gerÃ§ek mÃ¼ÅŸterileri engellersiniz. Ã‡ok gevÅŸek olursanÄ±z botlar sÄ±zar.",
                    controls: "Savunma YapÄ±landÄ±rmasÄ±",
                    sensitivity: "Engelleme Hassasiyeti",
                    loose: "GevÅŸek",
                    strict: "KatÄ±",
                    allowed: "Ä°zin Verilen",
                    blocked: "Engellenen",
                    fp: "HatalÄ± Pozitif OranÄ±",
                    reset: "SimÃ¼lasyonu SÄ±fÄ±rla",
                    vizTitle: "CanlÄ± Trafik Analizi (Y: ÅÃ¼phe Skoru)"
                }
            }
        };

        // --- State Management ---
        let currentLang = 'en';
        let charts = {};
        let simInterval = null;
        let simData = { allowed: 0, blocked: 0, fps: 0, totalHumans: 0 };
        const simPoints = []; // {x, y, type} type: 0=human, 1=bot

        // --- DOM Elements ---
        const els = {
            navLinks: document.getElementById('nav-links'),
            langBtn: document.getElementById('lang-toggle'),
            themeBtn: document.getElementById('theme-toggle'),
            slider: document.getElementById('sensitivity-slider'),
            valAllowed: document.getElementById('val-allowed'),
            valBlocked: document.getElementById('val-blocked'),
            valFp: document.getElementById('val-fp'),
            btnReset: document.getElementById('btn-reset')
        };

        // --- Initialization ---
        function init() {
            renderContent();
            initCharts();
            startSimulation();
            generateNoise(); // Visual effect for canvas section
            
            // Event Listeners
            els.langBtn.addEventListener('click', toggleLang);
            els.themeBtn.addEventListener('click', toggleTheme);
            els.slider.addEventListener('input', updateSimStats);
            els.btnReset.addEventListener('click', resetSimulation);

            // Auto-detect theme
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.documentElement.classList.add('dark');
            }
        }

        // --- Visual Effects ---
        function generateNoise() {
            const noise = document.getElementById('noise-layer');
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = 100;
            canvas.height = 100;
            
            const w = canvas.width;
            const h = canvas.height;
            const idata = ctx.createImageData(w, h);
            const buffer32 = new Uint32Array(idata.data.buffer);
            const len = buffer32.length;

            for (let i = 0; i < len; i++) {
                if (Math.random() < 0.5) {
                    buffer32[i] = 0xff000000;
                }
            }
            ctx.putImageData(idata, 0, 0);
            noise.style.backgroundImage = `url(${canvas.toDataURL()})`;
        }

        // --- Logic: Language & Content ---
        function toggleLang() {
            currentLang = currentLang === 'en' ? 'tr' : 'en';
            els.langBtn.textContent = currentLang.toUpperCase();
            renderContent();
            initCharts(); // Re-render charts with new labels
        }

        function toggleTheme() {
            document.documentElement.classList.toggle('dark');
        }

        function renderContent() {
            const t = translations[currentLang];
            
            // Nav
            els.navLinks.innerHTML = `
                <a href="#hero" class="px-3 py-2 rounded-md hover:bg-slate-200 dark:hover:bg-slate-700 transition font-medium">${t.nav[0]}</a>
                <a href="#tech" class="px-3 py-2 rounded-md hover:bg-slate-200 dark:hover:bg-slate-700 transition font-medium">${t.nav[1]}</a>
                <a href="#fingerprint" class="px-3 py-2 rounded-md hover:bg-slate-200 dark:hover:bg-slate-700 transition font-medium">${t.nav[2]}</a>
                <a href="#simulation" class="px-3 py-2 rounded-md hover:bg-slate-200 dark:hover:bg-slate-700 transition font-medium">${t.nav[3]}</a>
            `;

            // Hero
            document.getElementById('hero-title').textContent = t.hero.title;
            document.getElementById('hero-desc').textContent = t.hero.desc;
            document.getElementById('card1-title').textContent = t.hero.cards[0].title;
            document.getElementById('card1-desc').textContent = t.hero.cards[0].desc;
            document.getElementById('card2-title').textContent = t.hero.cards[1].title;
            document.getElementById('card2-desc').textContent = t.hero.cards[1].desc;
            document.getElementById('card3-title').textContent = t.hero.cards[2].title;
            document.getElementById('card3-desc').textContent = t.hero.cards[2].desc;

            // Tech
            document.getElementById('tech-title').textContent = t.tech.title;
            document.getElementById('tech-intro').textContent = t.tech.intro;
            document.getElementById('sel-desc').textContent = t.tech.sel;
            document.getElementById('pup-desc').textContent = t.tech.pup;
            document.getElementById('play-desc').textContent = t.tech.play;
            document.getElementById('chart1-title').textContent = t.tech.chartTitle;
            document.getElementById('chart1-caption').textContent = t.tech.chartCaption;

            // Fingerprint
            document.getElementById('fp-title').textContent = t.fp.title;
            document.getElementById('fp-intro').textContent = t.fp.intro;
            document.getElementById('fp-canvas-title').textContent = t.fp.canvasTitle;
            document.getElementById('fp-canvas-desc').textContent = t.fp.canvasDesc;
            document.getElementById('chart2-title').textContent = t.fp.chartTitle;

            // Simulation
            document.getElementById('sim-title').textContent = t.sim.title;
            document.getElementById('sim-intro').textContent = t.sim.intro;
            document.getElementById('sim-controls').textContent = t.sim.controls;
            document.getElementById('label-sensitivity').textContent = t.sim.sensitivity;
            document.getElementById('label-loose').textContent = t.sim.loose;
            document.getElementById('label-strict').textContent = t.sim.strict;
            document.getElementById('stat-allowed').textContent = t.sim.allowed;
            document.getElementById('stat-blocked').textContent = t.sim.blocked;
            document.getElementById('stat-fp').textContent = t.sim.fp;
            document.getElementById('btn-reset').textContent = t.sim.reset;
            document.getElementById('sim-viz-title').textContent = t.sim.vizTitle;
        }

        // --- Logic: Charts ---
        function initCharts() {
            const t = translations[currentLang];
            const isDark = document.documentElement.classList.contains('dark');
            const gridColor = isDark ? '#334155' : '#e2e8f0';
            const textColor = isDark ? '#cbd5e1' : '#475569';

            Chart.defaults.color = textColor;
            Chart.defaults.borderColor = gridColor;

            // 1. Radar Chart (Tech Comparison)
            if (charts.radar) charts.radar.destroy();
            const ctxRadar = document.getElementById('techRadarChart').getContext('2d');
            charts.radar = new Chart(ctxRadar, {
                type: 'radar',
                data: {
                    labels: t.tech.labels,
                    datasets: [
                        {
                            label: 'Selenium',
                            data: [3, 2, 9, 7, 6],
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.2)',
                        },
                        {
                            label: 'Puppeteer',
                            data: [8, 5, 8, 8, 4],
                            borderColor: '#10b981',
                            backgroundColor: 'rgba(16, 185, 129, 0.2)',
                        },
                        {
                            label: 'Playwright',
                            data: [9, 7, 7, 6, 9],
                            borderColor: '#f97316',
                            backgroundColor: 'rgba(249, 115, 22, 0.2)',
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { r: { min: 0, max: 10, ticks: { display: false } } }
                }
            });

            // 2. Doughnut Chart (Fingerprint Weights)
            if (charts.doughnut) charts.doughnut.destroy();
            const ctxDoughnut = document.getElementById('fingerprintDoughnut').getContext('2d');
            charts.doughnut = new Chart(ctxDoughnut, {
                type: 'doughnut',
                data: {
                    labels: t.fp.labels,
                    datasets: [{
                        data: [15, 20, 30, 10, 25],
                        backgroundColor: [
                            '#8b5cf6', // Canvas (Purple)
                            '#3b82f6', // UA (Blue)
                            '#ef4444', // IP (Red)
                            '#f59e0b', // Audio (Yellow)
                            '#10b981'  // Behavior (Green)
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false
                }
            });

            // 3. Scatter Plot (Simulation) - Init only
            if (!charts.scatter) {
                const ctxScatter = document.getElementById('simulationChart').getContext('2d');
                charts.scatter = new Chart(ctxScatter, {
                    type: 'scatter',
                    data: {
                        datasets: [
                            {
                                label: 'Human',
                                data: [],
                                backgroundColor: '#3b82f6',
                                pointRadius: 4
                            },
                            {
                                label: 'Bot',
                                data: [],
                                backgroundColor: '#ef4444',
                                pointRadius: 5,
                                pointStyle: 'rectRot'
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        animation: false,
                        scales: {
                            x: { display: false, min: 0, max: 100 },
                            y: { min: 0, max: 100, title: { display: true, text: 'Suspicion Score' } }
                        },
                        plugins: { legend: { display: false } }
                    }
                });
            }
        }

        // --- Logic: Simulation ---
        function resetSimulation() {
            simData = { allowed: 0, blocked: 0, fps: 0, totalHumans: 0 };
            simPoints.length = 0;
            charts.scatter.data.datasets[0].data = [];
            charts.scatter.data.datasets[1].data = [];
            charts.scatter.update();
            updateSimStats();
        }

        function startSimulation() {
            if (simInterval) clearInterval(simInterval);
            simInterval = setInterval(() => {
                // Generate traffic
                // X = time (always moving), Y = Suspicion Score (0-100)
                
                // 70% chance Human, 30% chance Bot
                const isBot = Math.random() < 0.3;
                let score;
                
                if (isBot) {
                    // Bots tend to have higher suspicion scores (50-95), but some are stealthy (20-50)
                    score = 40 + Math.random() * 55;
                } else {
                    // Humans tend to have lower scores (0-40), but some look weird (VPNs, strange browsers) (40-70)
                    score = Math.random() * 45;
                    // Occasional "weird" human
                    if (Math.random() < 0.1) score += 20; 
                }

                const point = { x: Date.now(), y: score, isBot: isBot };
                simPoints.push(point);

                // Keep only last 50 points for performance
                if (simPoints.length > 50) simPoints.shift();

                updateSimViz();
                updateSimStats();

            }, 800); // New request every 800ms
        }

        function updateSimViz() {
            // Map points to chart format (x is just index 0-50)
            const humanData = simPoints.filter(p => !p.isBot).map((p, i) => ({ x: i * 2, y: p.y }));
            const botData = simPoints.filter(p => p.isBot).map((p, i) => ({ x: i * 2, y: p.y }));

            charts.scatter.data.datasets[0].data = humanData;
            charts.scatter.data.datasets[1].data = botData;
            charts.scatter.update();
        }

        function updateSimStats() {
            const threshold = parseInt(els.slider.value);
            
            // Recalculate stats based on CURRENT threshold for visual feedback
            // In a real app, decisions are final. Here we show "what if".
            
            let allowed = 0;
            let blocked = 0;
            let falsePositives = 0;
            let humanCount = 0;

            simPoints.forEach(p => {
                const blockedRequest = p.y >= threshold;
                if (blockedRequest) {
                    blocked++;
                    if (!p.isBot) falsePositives++; // Blocked a human
                } else {
                    allowed++;
                }
                if (!p.isBot) humanCount++;
            });

            els.valAllowed.textContent = allowed;
            els.valBlocked.textContent = blocked;
            
            const fpRate = humanCount > 0 ? ((falsePositives / humanCount) * 100).toFixed(1) : 0;
            els.valFp.textContent = fpRate + "%";
            els.valFp.className = `font-mono font-bold ${fpRate > 5 ? 'text-red-400' : 'text-yellow-400'}`;
            
            // Visual threshold line (simple hack: draw a line on chart plugin or just mental model)
            // For simplicity in this constraints, we rely on the user seeing dots above/below their mental line.
        }

        // --- Run ---
        init();

    </script>
</body>
</html>

Add GitHub Pages index.html

